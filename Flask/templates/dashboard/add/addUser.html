{% extends 'dashboard/base.html' %} {% block title %} Add User {% endblock %} {% block content %}
<h3>Add User</h3>
<table class="table">
    <thead>
        <tr>
            <th scope="col">Name</th>
            <th scope="col">Lastname</th>
            <th scope="col">Age</th>
            <th scope="col">Email</th>
            <th scope="col">Password</th>
            <th scope="col">Category</th>
            <th scope="col"></th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td><input type="text" id="name" name="name" required>
            </td>
            <td><input type="text" id="lastname" name="lastname" required>
            </td>
            <td><input type="text" id="age" name="age" required>
            </td>
            <td><input type="email" id="email" name="email" required>
            </td>
            <td><input type="text" id="password" name="password" required>
            </td>
            <td><select id="category" name="category">
                    <option value="0">JobSeeker</option>
                    <option value="1">RH</option>
            </select>
            </td>
            <td><button href="#" class="btn btn-primary" onclick="addUser()">Validate</button></td>
        </tr>
    </tbody>
</table>
<script>
    function addUser() {
        $.ajax({
            url: "/admin/addUser",
            type: "POST",
            data: JSON.stringify({
                name: $("#name").val(),
                lastname: $("#lastname").val(),
                age: $("#age").val(),
                email: $("#email").val(),
                password: $("#password").val(),
                category: $("#category").val(),
            }),
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            success: function(data) {
                document.location.href = "/admin/dashUser"
            }
        })

    }
</script>
{% endblock %}